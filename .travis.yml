language: objective-c
osx_image: xcode9
podfile: Podfile
notifications:
    slack: 
      - cynnyteamios:n0K2wlqLzX6qwoHS1aNSgwff
branches:
  only:
    - master
env:
 global:
 - WORKSPACE=LocalNotifications_Over_iOS10.xcworkspace
 - SCHEME=LocalNotifications_Over_iOS10
 - DESTINATION="platform=iOS Simulator,OS=11.0,name=iPhone 6"     
 - SDK="iphonesimulator11.0" 
   
before_install:
    - gem install xcpretty -N
    - pod update
script:
     - xcodebuild -version
     - xcodebuild -showsdks
    travis_retry xcodebuild build-for-testing -workspace "$WORKSPACE" -scheme "$SCHEME" -sdk "$SDK" -destination "$DESTINATION" CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO | xcpretty -c
after_success:
  - bash <(curl -s https://codecov.io/bash)
